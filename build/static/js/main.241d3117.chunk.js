(this.webpackJsonpmine=this.webpackJsonpmine||[]).push([[0],{18:function(e,n,c){},19:function(e,n,c){},23:function(e,n,c){"use strict";c.r(n);var t,r=c(0),o=c.n(r),i=c(10),a=c.n(i),l=(c(18),c(6)),d=c(3),u=(c(19),c(2));!function(e){e[e.dev=0]="dev",e[e.prod=1]="prod"}(t||(t={}));var s=function(e,n,c){var t=e[n]&&e[n][c];if(console.log("test ",t,n,c),t&&!t.clicked){t.clicked=!0;var r=b(e,n,c);t.aroundDangerous=r,0===r&&j(e,n,c)}console.log(e)},j=function(e,n,c){s(e,n-1,c-1),s(e,n-1,c),s(e,n-1,c+1),s(e,n,c-1),s(e,n,c+1),s(e,n+1,c-1),s(e,n+1,c),s(e,n+1,c+1)};function b(e,n,c){return(void 0===(e[n-1]&&e[n-1][c-1])?0:e[n-1][c-1].number)+(void 0===(e[n-1]&&e[n-1][c])?0:e[n-1][c].number)+(void 0===(e[n-1]&&e[n-1][c+1])?0:e[n-1][c+1].number)+(void 0===(e[n]&&e[n][c-1])?0:e[n][c-1].number)+(void 0===(e[n]&&e[n][c+1])?0:e[n][c+1].number)+(void 0===(e[n+1]&&e[n+1][c-1])?0:e[n+1][c-1].number)+(void 0===(e[n+1]&&e[n+1][c])?0:e[n+1][c].number)+(void 0===(e[n+1]&&e[n+1][c+1])?0:e[n+1][c+1].number)}function f(e,n,c){var t=n.row,r=n.col,o=e[t][r].number,i=JSON.parse(JSON.stringify(e));if("leftClick"===c){if(i[t][r].tag)return console.log("\u5df2\u7ecf\u53f3\u952e\u6807\u8bb0,\u8bf7\u89e3\u9664\u6807\u8bb0"),i;if(i[t][r]=Object(u.a)(Object(u.a)({},e[t][r]),{},{clicked:!0}),0===o){var a=b(e,t,r);0===a&&j(i,t,r),i[t][r]=Object(u.a)(Object(u.a)({},e[t][r]),{},{aroundDangerous:a,clicked:!0})}}else i[t][r]=Object(u.a)(Object(u.a)({},e[t][r]),{},{tag:!e[t][r].tag});return i}var v,x,O,h,m=c(4),g=c(1),C=m.a.div(v||(v=Object(d.a)(["\n  width: 40px;\n  height: 40px;\n  box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;\n  margin:5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),p=Object(m.a)(C)(x||(x=Object(d.a)(["\n"]))),w=Object(m.a)(C)(O||(O=Object(d.a)(["\n"]))),k=Object(m.a)(C)(h||(h=Object(d.a)(["\n"]))),A=["\u2705","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3"],M=o.a.createContext({rowAndColMinClearance:[],setRowAndColMinClearance:function(){}});M.displayName="countContext";var y=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),c=n[0],t=n[1],o=function(){t(function(e,n){for(var c,t=[],r=0;r<=e-1;r++){for(var o=[],i=0;i<=n-1;i++){var a=void 0;a=1===(c=30,Math.random()<=c/100?1:0)?{number:1,clicked:!1,tag:!1}:{number:0,clicked:!1,tag:!1,aroundDangerous:null},o.push(a)}t.push(o)}return console.log(t),t}(5,8))};Object(r.useEffect)((function(){o()}),[]);var i=Object(r.useCallback)((function(){var e=null===c||void 0===c?void 0:c.flat(),n=e&&void 0!==e.find((function(e){if(1===e.number&&e.clicked)return!0})),t=e&&void 0===e.find((function(e){if(0===e.number&&!e.clicked||1===e.number&&!e.tag)return!0}));n&&window.confirm("\u6e38\u620f\u5931\u8d25, \u70b9\u51fb\u786e\u5b9a\u91cd\u65b0\u5f00\u59cb\u6e38\u620f")&&o(),t&&console.log("\u901a\u8fc7\u6e38\u620f")}),[c]);return Object(r.useEffect)((function(){console.log("\u65b0 data",c),i()}),[i,c]),{rowAndColMinClearance:c,setRowAndColMinClearance:t}},N=function(e){var n=e.children,c=y(),t=c.setRowAndColMinClearance,r=c.rowAndColMinClearance;return Object(g.jsx)(M.Provider,{value:{setRowAndColMinClearance:t,rowAndColMinClearance:r},children:n})},D=function(){var e=o.a.useContext(M);if(console.log(e),!e)throw new Error("useAuth \u5fc5\u987b\u5728 AuthProvider \u4e2d\u4f7f\u7528");return e};function R(e){var n=e.rowData,c=e.rowIndex,r=e.handleClick,o=e.handleRightClick,i=e.mode,a=function(e){if(0===e.number&&e.clicked){var n=e.aroundDangerous;return Object(g.jsx)("p",{children:A[n]})}return null};return Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:n.map((function(e,n){return Object(g.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){r(c,n,e)},onContextMenu:function(e){o(c,n,e)},children:(l=e,i!==t.prod?Object(g.jsxs)("div",{style:{border:"1px solid red"},children:[Object(g.jsx)("p",{children:1===l.number?"\u5730\u96f7".concat(l.number):"\u5b89\u5168".concat(l.number)}),Object(g.jsx)("p",{children:(l.tag,"\u6807\u8bb0".concat(l.tag))}),Object(g.jsx)("p",{children:(l.clicked,"\u70b9\u51fb".concat(l.clicked))}),a(l)]}):l.tag?Object(g.jsx)(k,{children:"\u26f3"}):l.clicked?l.clicked?0===l.number?Object(g.jsx)(p,{children:a(l)}):Object(g.jsx)(w,{}):void 0:Object(g.jsx)(C,{}))},"".concat(c,"-").concat(n));var l}))})}function S(e){var n=e.mode,c=D(),t=c.setRowAndColMinClearance,r=c.rowAndColMinClearance,o=function(e,n,c){console.log(c);var o=r&&f(r,{row:e,col:n},"leftClick");t(o)},i=function(e,n,c){console.log(c);var o=r&&f(r,{row:e,col:n},"rightClick");t(o)};return Object(g.jsx)("div",{children:r&&r.map((function(e,c){return Object(g.jsx)(R,{rowData:e,rowIndex:c,handleClick:o,handleRightClick:i,mode:n},c)}))})}function E(){return Object(g.jsx)("div",{className:"mine-header",children:Object(g.jsx)(F,{})})}function F(){var e=D().rowAndColMinClearance;console.log(e);var n=e.flat().filter((function(e){return 1===e.number&&!e.tag})).length;return Object(g.jsxs)("div",{children:["\u26f3: ",n]})}var I=function(e){var n=e.children;return N&&Object(g.jsx)(N,{children:n})},J=function(){var e=Object(r.useState)(0),n=Object(l.a)(e,2),c=n[0],o=n[1];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{className:"mine-left",children:["\u9009\u62e9\u5f00\u53d1\u6a21\u578b",Object(g.jsxs)("select",{name:"cars",id:"cars",onChange:function(e){o(Number(e.target.value))},value:c,children:[Object(g.jsx)("option",{value:t.prod,children:"\u751f\u4ea7\u73af\u5883"}),Object(g.jsx)("option",{value:t.dev,children:"\u5f00\u53d1\u73af\u5883"})]})]}),Object(g.jsxs)("div",{className:"mine-ct",children:[Object(g.jsx)(E,{}),Object(g.jsx)(S,{mode:c})]}),Object(g.jsx)("div",{className:"mine-right",children:"2"})]})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(n){var c=n.getCLS,t=n.getFID,r=n.getFCP,o=n.getLCP,i=n.getTTFB;c(e),t(e),r(e),o(e),i(e)}))};document.oncontextmenu=function(e){e.preventDefault()},a.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(I,{children:Object(g.jsx)(J,{})})}),document.getElementById("root")),P()}},[[23,1,2]]]);
//# sourceMappingURL=main.241d3117.chunk.js.map